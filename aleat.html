<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>üé∏ Player YouTube Personalizado</title>
<style>
  body {
    background-color: #000;
    color: #fff;
    text-align: center;
    font-family: Arial, sans-serif;
  }

  #videoTitle {
    font-size: 20px;
    margin-top: 20px;
    font-weight: bold;
    color: #ff4444;
  }

  .video-container {
    position: relative;
    width: 100%;
    max-width: 560px;
    margin: 30px auto;
    aspect-ratio: 16 / 9;
  }

  iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    border: none;
  }

  .controls {
    margin-top: 10px;
  }

  button {
    background: #c00;
    color: #fff;
    border: none;
    padding: 10px 18px;
    margin: 0 5px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
  }

  button:hover {
    background: #f33;
  }
</style>
</head>
<body>

<h2>üéß Minha Sele√ß√£o de V√≠deos</h2>
<div id="videoTitle">Carregando t√≠tulo...</div>

<div class="video-container">
  <div id="player"></div>
</div>

<div class="controls">
  <button id="prevBtn">‚èÆÔ∏è Anterior</button>
  <button id="nextBtn">‚è≠Ô∏è Pr√≥ximo</button>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
  const videos = [
    "P9uvpr_gm64", // exemplo 1
    "Yw_sJifUYgM", // exemplo 2
    "n1e0AAjXscE"  // exemplo 3
  ];

  let player;
  let current = 0;
  const titleEl = document.getElementById('videoTitle');

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      videoId: videos[current],
      playerVars: { autoplay: 0, controls: 1, rel: 0, modestbranding: 1 },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  function onPlayerReady() {
    updateTitleRepeatedly(); // garante que o t√≠tulo apare√ßa mesmo se demorar
  }

  function onPlayerStateChange(event) {
    if (event.data === YT.PlayerState.ENDED) {
      nextVideo();
    } else if (event.data === YT.PlayerState.PLAYING) {
      updateTitleRepeatedly();
    }
  }

  function updateTitleRepeatedly() {
    let attempts = 0;
    const interval = setInterval(() => {
      const videoData = player.getVideoData();
      if (videoData && videoData.title) {
        titleEl.textContent = videoData.title;
        clearInterval(interval);
      } else if (attempts++ > 20) {
        clearInterval(interval);
        titleEl.textContent = "T√≠tulo n√£o dispon√≠vel";
      }
    }, 300);
  }

  function nextVideo() {
    current = (current + 1) % videos.length;
    player.loadVideoById(videos[current]);
    updateTitleRepeatedly();
  }

  function prevVideo() {
    current = (current - 1 + videos.length) % videos.length;
    player.loadVideoById(videos[current]);
    updateTitleRepeatedly();
  }

  document.getElementById('nextBtn').addEventListener('click', nextVideo);
  document.getElementById('prevBtn').addEventListener('click', prevVideo);
</script>

</body>
</html>
