<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Capa do Álbum</title>
<style>
  body {
    margin: 0;
    padding: 0;
    width: 150px;
    height: 150px;
    background: transparent;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #albumArt {
    width: 150px;
    height: 150px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(0,0,0,0.4);
    object-fit: cover;
  }
</style>
</head>
<body>

  <img src="img/sanca.png" alt="Capa do álbum" id="albumArt">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    let ultimaMusica = "";

    function atualizarCapa() {
      $.getJSON('https://transmissaodigital.com/api-json/NjcxNisw', function(data) {
        const musicaAtual = data.musica_atual || "";
        const capa = data.capa_musica || "img/sanca.png";

        if (musicaAtual !== ultimaMusica) {
          ultimaMusica = musicaAtual;
          document.getElementById("albumArt").src = capa;
        }
      });
    }

    setInterval(atualizarCapa, 10000);
    atualizarCapa();
  </script>

</body>
</html>
