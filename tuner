<!DOCTYPE html>
<head>
<title>Sanca Rock</title>

<!-- web application runs in full screen mode -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#00769D">
<meta name="msapplication-navbutton-color" content="#00769D">
<meta name="apple-mobile-web-app-status-bar-style" content="#00769D">
<link rel="apple-touch-icon-precomposed" href="../radio/images/logo/49912_614894254.jpg"/>
<!-- web application runs in full-screen mode -->

<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, height=device-height, user-scalable=no" />
<meta charset="UTF-8">
<link rel="stylesheet" href="all_script/pbsS.css">
<link rel="stylesheet" href="../all_script/ShowSnackbar.css">


<script src="all_script/jquery-3.5.1.min.js"></script>

<script src="script/rsKeyCodeLock.js"></script>

<style>
html, body {
  background: transparent !important;
  background-color: transparent !important;
}

table, td, div {
  background: transparent !important;
  background-color: transparent !important;
}
/* Word-wrap, Long Text */
td{
max-width: 100px; /* max-width: 100px; */
overflow: hidden;
text-overflow: clip;
white-space: nowrap;
}
</style>

<style>
/* Custom Scrollbars */
::-webkit-scrollbar { width: 2px; }
::-webkit-scrollbar-track { background: #f1f1f1; }
::-webkit-scrollbar-thumb { background: #888; }
::-webkit-scrollbar-thumb:hover { background: #555; }
</style>

<style>
.RCorners {
  border-radius: 13px;
  border: none !important;
  background: transparent !important;
  padding: 5px;
  width: 100%;
}
</style>

<style>
/* detect adblockers */
.adBanner {
  height: 2px;
  width: 2px;
  visibility: hidden;
}
</style>


<script>
function imgError(image) {
    image.onerror = "";
    image.src = "images/radio1.png";
    return true;
}
</script>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head>

<div align="center" class="pbs-top">

</div></td>
    </tr>
</table>
</a>
    </div></td>
  </tr>
  <tr>
    <td height="1" bgcolor="#999999"><div align="center"></div></td>
  </tr>
  <tr>
    <td bgcolor="#EEEEEE"></td>
  </tr>
</table>
</div>

<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" 
oncontextmenu="return false;" ondragstart="return false" onselectstart="return false" oncopy="return false" oncut="return false" onpaste="return false"
>

<div id="randomDiv"><div class="adBanner"></div></div>
<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" style="max-width:400px">
  <tr>
    <td height="60">&nbsp;</td>
  </tr>
  <tr>
    <td height="20"><div align="center">
      <table width="95%"  border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td><div align="center"><table width="100%"  border="0" cellpadding="1" class="RCorners">
  <tr>
    <td valign="top" bgcolor="#FFFFFF"><div align="center">

      <table width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="33%" height="110"><div align="center"></div></td>
    <td width="42%" height="110"><div align="center">





<audio id="AudioPlay" autoplay src=""></audio>
<img src ="img/playnow.png" name="PlayerIcon" width="80" height="80" class="Image3D2" id="PlayerIcon">

<script>
// Toggle Play/Pause start
PlayerIcon.addEventListener('click', function () {
    if (AudioElem.paused) {
		AudioElem.play();
		document.getElementById("PlayerIcon").src = "img/pause.png"; // pause icon
} else {
        AudioElem.pause();
        document.getElementById("PlayerIcon").src = "img/playnow.png"; // Play icon
    }
});
// Toggle Play/Pause end
</script>

<script>
var F_Station_URL = "https://player.transmissaodigital.com/proxy/6716";

var AudioElem = document.getElementById('AudioPlay');
//AudioElem.volume = ; // adjust volume from 0.1 = 10%, 0.5 = 50%, 1.0 = 100%

// player play start
	AudioPlay.onwaiting = function(event) {
		//document.getElementById("SnackbarText").innerHTML = "Play";
		document.getElementById("ShowTrackTime").style.visibility = "visible";
		document.getElementById("AudioLoading").innerHTML = "";
		document.getElementById("Buffering").innerHTML = "Buffering...";
		//document.getElementById('TrackTime').innerHTML = "";
		document.getElementById("PlayerIcon").src = "https://any123.com.my/myradio4u.com/web/images/loading_gray.gif"; // loading icon
		document.getElementById("PlayStop").innerHTML = "Play onwaiting";
  			//console.log('onwaiting: ---------------------');
	};

	AudioPlay.onplaying = function(event) {
		document.cookie= "Cookie_OnOffLine = CanPlay"; 
		//document.getElementById("SnackbarText").innerHTML = "Play";
		document.getElementById("ShowTrackTime").style.visibility = "visible";
		document.getElementById("AudioLoading").innerHTML = "";
		document.getElementById("Buffering").innerHTML = "Playing";
		//document.getElementById('TrackTime').innerHTML = "";
		document.getElementById("PlayerIcon").src = "https://any123.com.my/myradio4u.com/web/images/baseline_pause_circle_outline_black_48dp.png"; // pause icon
		document.getElementById("PlayStop").innerHTML = "Play onplaying";
  			console.log('onplaying: ');
		CanPlay();


// show timer start
		AudioPlay.ontimeupdate = function(event) {
		//document.getElementById("SnackbarText").innerHTML = "Play";
			if (Math.floor(this.currentTime) > 0) {
				var totalSeconds = parseInt(AudioPlay.currentTime);
				var hours = Math.floor(totalSeconds / 3600);
				totalSeconds %= 3600;
				var minutes = Math.floor(totalSeconds / 60);
				var seconds = totalSeconds % 60;

				// If you want strings with leading zeroes:
				hours = String(hours).padStart(2, "0");
				minutes = String(minutes).padStart(2, "0");
				seconds = String(seconds).padStart(2, "0");
				//document.getElementById("TrackTime").innerHTML = hours+":"+minutes+":"+ seconds;

					//console.log('ontimeupdate: ');
			}
		};
// show timer end

	};
// player play end


// show stop or play start

	AudioPlay.onerror = function(event) {
		document.cookie= "Cookie_OnOffLine = CanNotPlay"; 
		//document.getElementById("SnackbarText").innerHTML = "Stop";
		document.getElementById("ShowTrackTime").style.visibility = "hidden";
		document.getElementById("AudioLoading").innerHTML = "Currently not available";
		document.getElementById("Buffering").innerHTML = "";
		document.getElementById("PlayerIcon").src = "https://any123.com.my/myradio4u.com/web/images/baseline_play_circle_outline_black_48dp.png"; // Play icon
		document.getElementById("PlayStop").innerHTML = "Stop onerror";
		CanNotPlay();
			console.log('onerror');
	};

	AudioPlay.onpause = function(event) {
		document.cookie= "Cookie_OnOffLine = CanNotPlay"; 
		//document.getElementById("SnackbarText").innerHTML = "Stop";
		document.getElementById("ShowTrackTime").style.visibility = "hidden";
		document.getElementById("AudioLoading").innerHTML = "Currently not available";
		document.getElementById("Buffering").innerHTML = "";
		document.getElementById("PlayerIcon").src = "https://any123.com.my/myradio4u.com/web/images/baseline_play_circle_outline_black_48dp.png"; // Play icon
		document.getElementById("PlayStop").innerHTML = "Stop onpause";
			//console.log('onpause');
	};
</script>

<script>
// Auto Play onload start
	if (AudioElem.src) {    
	  AudioElem.src = F_Station_URL;
	  AudioElem.play();
	}
// Auto Play onload end
</script>
</div></td>
    <td width="25%" height="110"><div align="center"></div></td>
  </tr>
  
  <tr>
    
  </tr>

  
  
  
 
  <tr>
    <td height="20" colspan="3"><div align="left">
<marquee width="100%" direction="left" scrollamount="5">
<div id="StreamTitle2"></div></marquee>
<script>
/*
$(document).ready(function(){
    refreshTable();
    	});
    function refreshTable(){
        $('#StreamTitle2').load('rsSearch_StreamTitle.php', function(){
           setTimeout(refreshTable, 30000);
        });
}
*/
</script>
	</div></td>
  </tr>


</table>
</div></td>
    </tr>
</table>

</div></td>
        </tr>

        	
        <tr>
          <td height="20"><div align="center"><table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">

  <tr>
    <td height="1"><div align="center">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
style="display:inline-block;width:320px;height:250px"
data-ad-client="ca-pub-0565983436401367"
data-ad-slot="3860057319"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></td>
  </tr>


</table>

</div></td>
        </tr>

      </table>
    </div></td>
  </tr>
  <tr>
    <td height="10"><div align="center"></div></td>
  </tr>
</table>

<script>
function imgError(image) {
    image.onerror = "";
    image.src = "images/radio1.png";
    return true;
}
</script>

<span class="style5" id="AdBlocker"></span>
<script>
if ($("#randomDiv").height() > 1) {
	document.getElementById("AdBlocker").innerHTML = "";
		var AAA = "https://player.transmissaodigital.com/proxy/6716, 0, qUTtShx0l7JpinGuE54H"
			localStorage.setItem('StartPlaying', AAA);
  			//console.log("No Adblocker!!");
}
else {
	document.getElementById("AdBlocker").innerHTML = '<div align="center" class="pbs-bottom pbs-padding-8 pbs-card-2 pbs-animate-zoom RCorners" style="top:-50px; height:270px; width:350px; margin: auto; background-color:#eeeeee"><br><img src="images/Adblock_logo.png" width="80" height="80"><br><br> We noticed you are using an ad blocker <br><br>To continue using myradio4u.com, please allow this domain on your ad blocker. </div>';
			localStorage.setItem('StartPlaying', "");
  			//console.log("An adblocker was detected!!");
}
</script>

<script src="script/rsSaveFavourite.js"></script>

<script>
// // listen to localstorage value changes
window.addEventListener('storage', function(e) {
	if (e.key === "SaveFavourite") {
		LastFavourite();
          //console.log('addEventListener-SaveFavourite-play.php: '+new Date().toLocaleTimeString());
		return false;
    }
});
</script>
<script>
function CheckCopy(){
		 // show css Toast start
  			var x = document.getElementById("ShowSnackbar");
  				x.className = "show";
  				setTimeout(function(){ x.className = x.className.replace("show", ""); }, 1000);
				document.getElementById("SnackbarText").innerHTML = "Copy"; 
		// show css Toast end
}
</script>

<script>
function CopyToClipboard(id){
    var r = document.createRange();
    r.selectNode(document.getElementById(id));
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(r);
    try {
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
        console.log('Successfully copy text: hello world ' + r);
    } catch (err) {
        console.log('Unable to copy!');
    }
}
</script>
<script>
// ======= DETECTOR DE CONEXÃO AUTOMÁTICO =======

// cria uma mensagem visual simples quando cair a internet
const aviso = document.createElement('div');
aviso.id = 'offlineAviso';
aviso.textContent = 'Sem conexão... tentando reconectar 🔄';
aviso.style.position = 'fixed';
aviso.style.top = '20px';
aviso.style.left = '50%';
aviso.style.transform = 'translateX(-50%)';
aviso.style.background = 'rgba(255,69,0,0.9)';
aviso.style.color = 'white';
aviso.style.padding = '10px 20px';
aviso.style.borderRadius = '10px';
aviso.style.boxShadow = '0 0 10px rgba(0,0,0,0.5)';
aviso.style.fontFamily = 'Arial, sans-serif';
aviso.style.display = 'none';
aviso.style.zIndex = '9999';
document.body.appendChild(aviso);

// quando a internet cair
window.addEventListener('offline', () => {
  aviso.style.display = 'block';
  console.warn('Conexão perdida 😕');
});

// quando voltar, testa e recarrega automaticamente
window.addEventListener('online', async () => {
  aviso.textContent = 'Conexão restaurada! Recarregando...';
  const ok = await testarConexao();
  if (ok) location.reload();
});

// verificação real (evita falso positivo de "online")
async function testarConexao() {
  try {
    const ctrl = new AbortController();
    setTimeout(() => ctrl.abort(), 4000);
    await fetch('https://www.google.com/favicon.ico', { method: 'HEAD', signal: ctrl.signal });
    return true;
  } catch {
    return false;
  }
}

// também faz checagens periódicas (a cada 15s)
setInterval(async () => {
  if (!navigator.onLine) {
    aviso.style.display = 'block';
    aviso.textContent = 'Sem conexão... tentando reconectar 🔄';
  } else {
    const ok = await testarConexao();
    if (ok) aviso.style.display = 'none';
  }
}, 15000);
</script>

</body>
</html>
