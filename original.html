<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>R√°dio SancaRock</title><style>body{margin:0;font-family:'Bebas Neue',Arial,sans-serif;background:radial-gradient(circle at center,#ff4500,#800080,#000);color:#fff;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px}.player-container{background:url("img/fundoradio.png") no-repeat center center fixed;background-size:cover;backdrop-filter:blur(10px);border-radius:25px;padding:25px;width:90%;max-width:460px;text-align:center;box-shadow:0 0 18px rgba(0,0,0,.6);border:1px solid rgba(255,69,0,.3)}.album-cover{width:100%;max-width:130px;border-radius:16px;border:3px solid #ff4500;margin:180px auto 15px;box-shadow:0 6px 20px rgba(0,0,0,.8);opacity:.8;transition:opacity 1s ease-in-out}.track-info{margin-top:10px;font-size:20px;color:yellow}#statusPlayer{margin-top:8px;font-weight:700;text-shadow:0 0 5px rgba(255,204,0,.7)}.equalizer{display:flex;justify-content:center;gap:6px;height:25px;margin:20px auto}.equalizer span{width:8px;background:linear-gradient(180deg,#ff4500,#ff1493,#da70d6);border-radius:3px;animation:bounce 1.2s infinite ease-in-out}.equalizer span:nth-child(2){animation-delay:.15s}.equalizer span:nth-child(3){animation-delay:.3s}.equalizer span:nth-child(4){animation-delay:.45s}.equalizer span:nth-child(5){animation-delay:.6s}@keyframes bounce{0%,100%{transform:scaleY(1)}50%{transform:scaleY(2.8)}}.equalizer.paused span{animation:none;transform:scaleY(.2);background:gray}.controls{display:flex;justify-content:center;gap:12px;margin-top:20px;flex-wrap:wrap}.controls button{padding:12px 20px;font-size:16px;cursor:pointer;border:none;border-radius:25px;color:#fff;font-weight:700;transition:all .2s ease-in-out}.play-button{background:linear-gradient(135deg,#28a745,#1e7e34)}.pause-button{background:linear-gradient(135deg,#dc3545,#c82333)}.mail-button{background:linear-gradient(135deg,#6f42c1,#5a32a3)}.atualizar{background:linear-gradient(135deg,#343a40,#23272b)}.controls button:hover{opacity:1;transform:scale(1.05) translateY(-1px);box-shadow:0 5px 15px rgba(0,0,0,.4)}.volume-control{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:20px}.volume-control button{background:#1a1a2e;color:#ffcc00;border:1px solid #ff4500;border-radius:50%;width:42px;height:42px;font-weight:700;cursor:pointer}#volumeSlider{width:120px;accent-color:#ff4500}#volumeDisplay{min-width:35px;text-align:right;color:#ffcc00;font-weight:700}@media(max-width:480px){.controls button{flex:1 1 30%;font-size:14px}.track-info{font-size:16px}}</style></head><body><div class="player-container"><div class="track-info"></div><div class="equalizer paused" id="equalizer"><span></span><span></span><span></span><span></span><span></span></div><div id="statusPlayer">‚è∏ Pausado</div><img id="albumCover" src="img/tocar.png" class="album-cover" alt="Capa do √Ålbum"><div style="margin-top:10px;display:flex;justify-content:center;gap:30px"><button id="coverMinus">-</button><button id="coverPlus">+</button></div><p id="trackTitle">Clique em Play / Carregando Artista...</p><p id="artistName"></p><div class="controls"><button id="playPauseBtn" class="play-button">Play</button><button class="mail-button" onclick="window.location.href='mailto:sancanight@gmail.com?subject=Contato&body=Ol√°!'">Contato</button><button class="atualizar" onclick="window.location.href='original.html'>Atualizar</button></div><div class="volume-control"><button onclick="adjustVolume(-.03)">-</button><input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.2"><button onclick="adjustVolume(.03)">+</button><span id="volumeDisplay">20%</span></div><audio id="radioPlayer" preload="none"></audio></div><script>const radio=document.getElementById("radioPlayer"),playBtn=document.getElementById("playPauseBtn"),titleEl=document.getElementById("trackTitle"),artistEl=document.getElementById("artistName"),coverEl=document.getElementById("albumCover"),statusEl=document.getElementById("statusPlayer"),volumeSlider=document.getElementById("volumeSlider"),volumeDisplay=document.getElementById("volumeDisplay"),coverMinus=document.getElementById("coverMinus"),coverPlus=document.getElementById("coverPlus"),equalizer=document.getElementById("equalizer"),apiKeyLastFm="d08d389671438f325d13d64f0c94b583";radio.src="https://stream.zeno.fm/0y2f0ss7kbruv";let lastTrack="",coverOpacity=.8,updating=!1,lastUpdate=0;coverEl.style.opacity=coverOpacity;coverMinus.onclick=()=>{coverOpacity=Math.max(0,coverOpacity-.2),coverEl.style.opacity=coverOpacity.toFixed(2)},coverPlus.onclick=()=>{coverOpacity=Math.min(1,coverOpacity+.2),coverEl.style.opacity=coverOpacity.toFixed(2)};function adjustVolume(e){let t=parseFloat(radio.volume)||0;t=Math.min(1,Math.max(0,t+e)),radio.volume=t,volumeSlider.value=t,volumeDisplay.textContent=Math.round(100*t)+"%"}volumeSlider.oninput=()=>{radio.volume=parseFloat(volumeSlider.value),volumeDisplay.textContent=Math.round(100*radio.volume)+"%"},equalizer.classList.add("paused"),playBtn.onclick=()=>{radio.paused?radio.play().then(()=>{playBtn.textContent="Pause",playBtn.className="pause-button",statusEl.textContent="üîä Ao vivo",equalizer.classList.remove("paused")}).catch(()=>{}):(radio.pause(),playBtn.textContent="Play",playBtn.className="play-button",statusEl.textContent="‚è∏ Pausado",equalizer.classList.add("paused"))};function decodeHtmlEntities(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}const coverCache=new Map;async function updateMetadata(){const e=Date.now();if(updating||e-lastUpdate<6e4)return;updating=!0,lastUpdate=e;try{const t=await fetch("https://transmissaodigital.com/api/VG1wamVFNW5QVDA9KzU="),a=await t.arrayBuffer();let n=new TextDecoder("iso-8859-1").decode(a).split("Kbps").pop().replace(/https?:\/\/[^\s]*/g,"").replace(/<[^>]*>/g,"").trim();if(!n||n===lastTrack)return;lastTrack=n,n=n.replace(/(\d+,)+\d+,?/g,"").trim();let o="",r="";n.includes(" - ")?[o,r]=n.split(" - ").map(e=>e.trim()):r=n,r=decodeHtmlEntities(r),o=decodeHtmlEntities(o),titleEl.textContent=r,artistEl.textContent=o,document.title=`${o} - ${r} | R√°dio SancaRock`;const l=(o+"-"+r).toLowerCase();if(coverCache.has(l))coverEl.src=coverCache.get(l);else if((o+r).toLowerCase().includes("monstros do rock"))coverEl.src="img/monstrosdorock.png";else{let e=await fetchCoveriTunes(o||r,r);e||(e=await fetchCoverLastFm(o||r,r)),coverEl.src=e||"img/sanca.png",coverCache.set(l,coverEl.src)}coverEl.style.opacity=1,setTimeout(()=>{coverEl.style.opacity=coverOpacity},1e3)}catch(e){console.warn(e)}finally{updating=!1}}async function fetchCoveriTunes(e,t){try{const a=await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(e+" "+t)}&entity=song&limit=3`),n=await a.json();if(n.results?.length>0){const t=n.results.find(t=>t.artistName?.toLowerCase().includes(e.toLowerCase()));if(t)return t.artworkUrl100.replace("100x100","600x600")}}catch(e){return null}return null}async function fetchCoverLastFm(e,t){try{const a=await fetch(`https://ws.audioscrobbler.com/2.0/?method=track.getInfo&api_key=${apiKeyLastFm}&artist=${encodeURIComponent(e)}&track=${encodeURIComponent(t)}&format=json`),n=await a.json(),o=n?.track?.album?.image;if(o)return o.find(e=>"extralarge"===e.size)?.["#text"]}catch(e){return null}return null}setInterval(updateMetadata,15e3),document.addEventListener("visibilitychange",()=>{document.hidden&&equalizer.classList.add("paused")}),document.addEventListener("DOMContentLoaded",()=>{radio.volume=parseFloat(volumeSlider.value),volumeDisplay.textContent=Math.round(100*radio.volume)+"%",updateMetadata()});</script></body></html>


